<section ng-controller="AuthenticationController" class="main-content-inner">
  <h3 class="col-md-12 text-center">Or sign up using your email</h3>
  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">
    <form name="userForm" ng-submit="signup(userForm.$valid)" class="signin" novalidate autocomplete="off">
      <fieldset>
        <div class="form-group" show-errors>
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="credentials.firstName"
                 placeholder="First Name" required>

          <div ng-messages="userForm.firstName.$error" role="alert">
            <p class="help-block error-text" ng-message="required">First name is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="credentials.lastName"
                 placeholder="Last Name" required>

          <div ng-messages="userForm.lastName.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Last name is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" class="form-control" ng-model="credentials.email" placeholder="Email" required>
          <div ng-messages="userForm.email.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Email address is required.</p>
            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label for="username">Username</label>
          <input type="text" id="username" name="username" class="form-control" ng-model="credentials.username" required>
          <div ng-messages="userForm.username.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Username is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label for="password">Password</label>
            <input type="password" id="password" name="password" class="form-control" ng-model="credentials.password" placeholder="Password" popover="{{popoverMsg}}" popover-trigger="focus" password-validator required>
          <div ng-messages="userForm.password.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Password is required.</p>
            <div ng-repeat="passwordError in passwordErrors">
              <p class="help-block error-text" ng-show="userForm.password.$error.requirements">{{passwordError}}</p>
            </div>
          </div>
        </div>
        <div class="form-group" ng-show="!userForm.password.$error.required">
        <!--<label>Password Strength</label>-->
        <!--<progressbar value="strengthProgress" type="{{strengthColor}}"><span-->
        <!--style="color:white; white-space:nowrap;">{{strengthProgress}}%</span></progressbar>-->
        <!--</div>-->


        <!--<div class="form-group" ng-show="!userForm.password.$pristine">-->
        <div class="form-group">

          <div class="row">

            <div class="col-md-6">
          <label>Password Requirements</label>
          <progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></progressbar>
        </div>
        <div class="text-center form-group">
          <button type="submit" class="btn btn-primary">Sign up</button>
          &nbsp; or&nbsp;
          <a ui-sref="authentication.signin" class="show-signup">Sign in</a>
        </div>
        <div ng-show="error" class="text-center text-danger">
          <strong ng-bind="error"></strong>
        </div>
      </fieldset>
    </form>
  </div>
</section>


<div class="row" data-ng-show="signInBeforeProject && !closeWarning">
  <div class="col-md-12">
    <div class="sign-in-warning">
      <div class="pull-right" data-ng-click="closeWarning = !closeWarning">X</div>
      <div>
        <p>You need to sign up before you create a project.</p>

        <p>If you've already registered, <a href="//signin">sign in here</a>.</p>
      </div>
    </div>
  </div>
</div>

<h1 class="page-header col-md-12 text-center">Sign Up</h1>

<div class="row">

  <div class="col-md-12">

    <h3>... with your social accounts</h3>

    <div class="row">
      <div class="col-md-12">
        <a href="/auth/facebook" class="undecorated-link">
          <i class="fa fa-facebook"></i>
          <img src="/modules/users/img/buttons/facebook.png">
        </a>
        <a href="/auth/twitter" class="undecorated-link">
          <img src="/modules/users/img/buttons/twitter.png">
          <i class="fa fa-twitter"></i>
        </a>

      </div>
    </div>

    <span>
        <div class="signup-email" data-ng-click="toggleSignup = !toggleSignup"
             data-ng-class="{'carot-down': toggleSignup}">
          ... or click here to sign up with your email address <i class="fa fa-chevron-right"
                                                                  data-ng-show="!toggleSignup"></i><i
          class="fa fa-chevron-down" data-ng-show="toggleSignup"></i>
        </div>
    </span>


    <form name="userForm" data-ng-submit="signup()" class="signin form-horizontal" novalidate autocomplete="off"
          data-ng-show="toggleSignup">
      <div class="row">
        <div class="col-md-12">
          <!--<div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">-->
          <!--<form name="userForm" data-ng-submit="signup()" class="signin form-horizontal" novalidate autocomplete="off">-->
          <fieldset>
            <div class="form-group"></div>

            <div class="row"> <!-- Row #1 -->
              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.firstName}">
                    <input class="input_field input_field-secondary" type="text"
                           id="firstName"
                           data-ng-model="credentials.firstName"/>
                    <label class="input_label input_label-secondary" for="firstName">
                      <span class="input_label-content input_label-content-secondary">First Name</span>
                    </label>
                </span>
              </div>

              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.lastName}">
                    <input class="input_field input_field-secondary" type="text"
                           id="lastName" data-ng-model="credentials.lastName"/>
                    <label class="input_label input_label-secondary" for="lastName">
                      <span class="input_label-content input_label-content-secondary">Last Name</span>
                    </label>
                </span>
              </div>
            </div>

            <div class="row"> <!-- Row #2 -->
              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.email}">
                    <input class="input_field input_field-secondary" type="text" id="email"
                           data-ng-model="credentials.email"/>
                    <label class="input_label input_label-secondary" for="email">
                      <span
                        class="input_label-content input_label-content-secondary">E-mail</span>
                    </label>
                </span>
              </div>
              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.userZip}">
                    <input class="input_field input_field-secondary" type="userZip"
                           id="userZip"
                           data-ng-model="credentials.userZip"/>
                    <label class="input_label input_label-secondary" for="userZip">
                      <span class="input_label-content input_label-content-secondary">Zip Code</span>
                    </label>
                </span>
              </div>
            </div>

            <div class="row"> <!-- Row #3 -->
              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.username.value}">
                    <input class="input_field input_field-secondary" type="text"
                           id="username" data-ng-model="credentials.username"/>
                    <label class="input_label input_label-secondary" for="username">
                      <span class="input_label-content input_label-content-secondary">Username</span>
                    </label>
                </span>
              </div>
              <div class="col-md-6">
                <span class="input input-secondary"
                      data-ng-class="{'input-filled': credentials.password}">
                    <input class="input_field input_field-secondary" type="password"
                           id="password"
                           data-ng-model="credentials.password"/>
                    <label class="input_label input_label-secondary" for="password">
                      <span class="input_label-content input_label-content-secondary">Password</span>
                    </label>
                </span>
              </div>
            </div>

            <div class="row">  <!-- Row #4 -->
              <div class="col-md-12">
                <div id="check-awesome" class="form-group filter first-filter">
                  <input type="checkbox" name="filters" id="newsletter" value="newsletter"
                         data-ng-model="credentials.newsletter">
                  <label for="newsletter">
                    <span class="check"></span>
                    <span class="box"></span>
                    Subscribe to our quarterly e-newsletter
                  </label>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-4">
                <div class="form-group">
                  <div>
                    <button type="submit" class="btn btn-main grow">Sign up</button>
                    &nbsp; or&nbsp;
                    <a href="//signin" class="show-signup">Sign in</a>
                  </div>
                  <div class="forgot-password">
                    <a href="//password/forgot">Forgot your password?</a>
                  </div>
                  <div data-ng-show="error" class="text-center text-danger">
                    <strong data-ng-bind="error"></strong>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>

        </div>
      </div>

    </form>
  </div>
</div>
