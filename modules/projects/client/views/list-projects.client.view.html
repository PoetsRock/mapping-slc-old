<!--<secondary-menu-directive></secondary-menu-directive>-->
<div id="main-menu" class="main-menu">
  <google-menu></google-menu>
</div>

<section class="content background" data-ng-controller="RandomMapController"
         ng-style="{'background-image': 'url(' + staticMap.mapUrl + ')', 'background-size' : 'cover' }"
         data-ng-class="{'page-view-menu-open': toggleSecondMenu}">

  <section class="container">
    <a href="/" class="small-main-logo logo-on-page logo-second-page img-responsive"></a>

    <div class="main-content-outer">

      <section data-ng-controller="ProjectsController" data-ng-init="init()" class="main-content-inner">

        <div class="list-projects">

          <div class="page-header">

            <h1>Projects</h1>

          </div>

          <div class="list-group">
            <div class="row">
              <div class="col-md-12">
                <a data-ng-repeat="publishedProject in publishedProjects" data-ng-href="/projects/{{publishedProject._id}}" class="col-md-4 story-summary animation-cards">
                    <span>
                        <span>
                            <img class="img-responsive" data-ng-src="{{publishedProject.mainImgThumbnail}}"/>
                        </span>

                        <span class="pull-right">
                            <span data-ng-bind="publishedProject.title"></span><br/>
                            <span data-ng-bind="publishedProject.user.displayName">there</span><br/>
                        </span>
                    </span>
                </a>
              </div>
            </div>


            <div class="alert alert-warning text-center"
                 data-ng-hide="!PublishingService.getPublishedProjects() || projects.length">
              No Projects yet, why don't you <a href="/projects/create">create one</a>?
            </div>

          </div>
        </div>

        <!--see `modules/core/client/services/utils.client.service.js` for pagination script`-->
        <uib-pagination boundary-links="true" max-size="8" items-per-page="itemsPerPage" total-items="filterLength"
                    ng-model="currentPage" ng-change="pageChanged()"></uib-pagination>

      </section>
    </div>
  </section>
</section>
